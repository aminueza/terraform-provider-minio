---
page_title: "Data Source minio_health_status - minio"
subcategory: ""
description: |-
  Checks MinIO cluster health using unauthenticated health endpoints.
---

# Data Source: minio_health_status

Checks MinIO cluster health using unauthenticated health endpoints.

This data source queries MinIO's unauthenticated health check endpoints to monitor cluster health, liveness, readiness, quorum status, and whether it's safe to perform maintenance operations.

## Health Check Endpoints

The data source checks the following MinIO health endpoints:

- `/minio/health/live` - Server liveness (process running)
- `/minio/health/ready` - Server readiness (accepting requests)
- `/minio/health/cluster` - Write quorum status
- `/minio/health/cluster/read` - Read quorum status
- `/minio/health/cluster?maintenance=true` - Safe for maintenance check

All endpoints return HTTP 200 (healthy) or 503/412 (unhealthy/unsafe).

## Example Usage

```terraform
terraform {
  required_providers {
    minio = {
      source = "aminueza/minio"
    }
  }
}

provider "minio" {
  minio_server   = "localhost:9000"
  minio_user     = "minioadmin"
  minio_password = "minioadmin"
  minio_ssl      = false
}

data "minio_health_status" "cluster" {}

output "cluster_health" {
  value = {
    healthy              = data.minio_health_status.cluster.healthy
    live                 = data.minio_health_status.cluster.live
    ready                = data.minio_health_status.cluster.ready
    write_quorum         = data.minio_health_status.cluster.write_quorum
    read_quorum          = data.minio_health_status.cluster.read_quorum
    safe_for_maintenance = data.minio_health_status.cluster.safe_for_maintenance
  }
}

# Example: Conditional resource creation based on health
resource "minio_s3_bucket" "example" {
  count  = data.minio_health_status.cluster.healthy ? 1 : 0
  bucket = "my-bucket"
}
```

## Use Cases

- **Conditional Resource Creation**: Create resources only when the cluster is healthy
- **Monitoring Integration**: Export health status to monitoring systems (Prometheus, Datadog, etc.)
- **Deployment Validation**: Verify cluster health before/after deployments
- **Health Checks in CI/CD**: Automated health verification in pipelines
- **Maintenance Planning**: Check if it's safe to perform maintenance without losing quorum

## Understanding `safe_for_maintenance`

The `safe_for_maintenance` attribute indicates whether the cluster can tolerate taking a node offline for maintenance without losing read/write quorum. This is useful when:

- Planning rolling updates or upgrades
- Taking nodes offline for hardware maintenance
- Decommissioning nodes from the cluster

A value of `true` (HTTP 200) means the cluster has sufficient nodes online to maintain quorum if one node goes down. A value of `false` (HTTP 412) means taking a node offline would break quorum and potentially cause data unavailability.

<!-- schema generated by tfplugindocs -->
## Schema

### Read-Only

- `healthy` (Boolean) Overall health (true if all checks pass)
- `id` (String) Timestamp ID for this health check
- `live` (Boolean) Liveness probe (/minio/health/live)
- `read_quorum` (Boolean) Read quorum status (/minio/health/cluster/read)
- `ready` (Boolean) Readiness probe (/minio/health/ready)
- `safe_for_maintenance` (Boolean) Safe to perform maintenance without losing quorum
- `write_quorum` (Boolean) Write quorum status (/minio/health/cluster)
