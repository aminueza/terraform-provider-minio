---
page_title: "minio_s3_bucket_retention Resource - terraform-provider-minio"
subcategory: ""
description: |-
  Manages object lock retention settings for a MinIO bucket. Object locking enforces Write-Once Read-Many (WORM) immutability to protect versioned objects from deletion.
  Note: Object locking can only be enabled during bucket creation and requires versioning. You cannot enable object locking on an existing bucket.
  This resource provides compliance with SEC17a-4(f), FINRA 4511(C), and CFTC 1.31(c)-(d) requirements.
---

# minio_s3_bucket_retention (Resource)

Manages object lock retention settings for a MinIO bucket. Object locking enforces Write-Once Read-Many (WORM) immutability to protect versioned objects from deletion.

Note: Object locking can only be enabled during bucket creation and requires versioning. You cannot enable object locking on an existing bucket.

This resource provides compliance with SEC17a-4(f), FINRA 4511(C), and CFTC 1.31(c)-(d) requirements.

## Example Usage

```terraform
resource "minio_s3_bucket" "test_bucket" {
  bucket         = "test-retention-bucket"
  force_destroy  = true
  object_locking = true
}

resource "minio_s3_bucket_retention" "test_retention" {
  bucket          = minio_s3_bucket.test_bucket.bucket
  mode            = "GOVERNANCE"
  unit            = "YEARS"
  validity_period = 1
}
```

## Interaction with Lifecycle Rules

If a bucket has lifecycle rules configured, the retention settings take precedence. Objects cannot be deleted by lifecycle rules until their retention period expires.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bucket` (String) Name of the bucket to configure object locking. The bucket must be created with object locking enabled.
- `mode` (String) Retention mode for the bucket. Valid values are:
                - GOVERNANCE: Prevents object modification by non-privileged users. Users with s3:BypassGovernanceRetention permission can modify objects.
                - COMPLIANCE: Prevents any object modification by all users, including the root user, until retention period expires.
- `unit` (String) Time unit for the validity period. Valid values are DAYS or YEARS.
- `validity_period` (Number) Duration for which objects should be retained under WORM lock, in the specified unit. Must be a positive integer.

### Read-Only

- `id` (String) The ID of this resource.

## Import

Import is supported using the following syntax:

```shell
# S3 bucket retention configurations can be imported using the bucket name
terraform import minio_s3_bucket_retention.example bucket-name
```
